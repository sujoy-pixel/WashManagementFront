<div class="row">
  <div class="col-md-12">
    <div class="card custom-card">
      <div class="card-header border-bottom justify-content-between">
        <div class="card-title">Fault Name Layout</div>
      </div>

      <div class="card-body">

        <!-- FAULT HEAD -->
        <div class="row my-2">
          <div class="col-md-12">
            <div class="row align-items-center">

              <label class="form-label col-md-2 text-dark">
                Fault Head <span style="color:red">*</span>
              </label>

              <div class="form-control col-md-4 common-border"
                   [class.focused-border]="currentFocus === 'FaultHead'">
<ng-select [(ngModel)]="Model.FaultHeadId"
           (focus)="setFocus('FaultHead')"
           (blur)="clearFocus()"
           placeholder="Select Fault Head">

  <ng-option *ngFor="let f of faultHeadList" 
             [value]="f.ID">
      {{ f.DisplayName }}
  </ng-option>

</ng-select>

                <!-- <ng-select [(ngModel)]="Model.FaultHeadId"
                           (focus)="setFocus('FaultHead')"
                           (blur)="clearFocus()"
                           placeholder="Select Fault Head">
                  <ng-option *ngFor="let f of faultHeadList" [value]="f.id">{{ f.name }}</ng-option>
                </ng-select> -->

              </div>

            </div>
          </div>
        </div>

        <!-- FAULT NAME -->
        <div class="row my-2">
          <div class="col-md-12">
            <div class="row align-items-center">

              <label class="form-label col-md-2 text-dark">
                Fault Name <span style="color:red">*</span>
              </label>

              <div class="form-control col-md-4 common-border"
                   [class.focused-border]="currentFocus === 'FaultName'">

                <input type="text"
                       [(ngModel)]="Model.FaultName"
                       (focus)="setFocus('FaultName')"
                       (blur)="clearFocus()"
                       class="form-control-input"/>

              </div>

            </div>
          </div>
        </div>

        <!-- CODE NO -->
        <div class="row my-2">
          <div class="col-md-12">
            <div class="row align-items-center">

              <label class="form-label col-md-2 text-dark">
                Code No
              </label>

              <div class="form-control col-md-4 common-border"
                   [class.focused-border]="currentFocus === 'CodeNo'">

                <!-- <input type="text"
                       [(ngModel)]="Model.CodeNo"
                       (focus)="setFocus('CodeNo')"
                       (blur)="clearFocus()"
                       class="form-control-input"/>

              </div> -->
<input type="number"
       [(ngModel)]="Model.CodeNo"
       class="form-control-input"
       (focus)="setFocus('CodeNo')"
       (blur)="clearFocus()"
/>

            </div>
          </div>
        </div>

        <!-- PRIORITY -->
        <div class="row my-2">
          <div class="col-md-12">
            <div class="row align-items-center">

              <label class="form-label col-md-2 text-dark">
                Priority <span style="color:red">*</span>
              </label>

              <div class="form-control col-md-4 common-border"
                   [class.focused-border]="currentFocus === 'Priority'">

                <ng-select [(ngModel)]="Model.Priority"
                           (focus)="setFocus('Priority')"
                           (blur)="clearFocus()"
                           placeholder="Select Priority">
                  <ng-option *ngFor="let p of priorityList" [value]="p">{{ p }}</ng-option>
                </ng-select>

              </div>

            </div>
          </div>
        </div>

        <!-- ACTIVE STATUS -->
        <div class="row my-2">
          <div class="col-md-12">
            <div class="row">
              <div class="input-group mb-1">

                <div class="input-group-prepend col-3">
                  <span class="form-label text-dark">Active Status</span>
                </div>

                <label class="switch">
                  <input type="checkbox" [(ngModel)]="Model.IsActive" class="success" />
                  <span class="slider round"></span>
                </label>

              </div>
            </div>
          </div>
        </div>

        <!-- BUTTONS -->
        <div class="text-right mt-3">
          <button type="button" class="btn btn-primary" (click)="onSubmit()">
            <i class="fa fa-database"></i> {{ saveButtonTitle }}
          </button>

          <button type="button" class="btn btn-danger" (click)="onClear()">
            <i class="fa fa-refresh"></i> Clear
          </button>
        </div>

      </div>
    </div>

    <!-- GRID TABLE -->
    <div class="table-responsive mt-3">
      <table class="table table-striped table-bordered custom-table">
        <thead>
          <tr>
            <th style="width:60px" class="text-center">SL</th>
            <th class="text-center">Fault Head</th>
            <th class="text-center">Fault Name</th>
            <th class="text-center">Code No</th>
            <th class="text-center">Priority</th>
            <th class="text-center">Status</th>
            <th class="text-center" style="width:120px">Action</th>
          </tr>
        </thead>

        <tbody>

          <tr *ngFor="let item of dataList; let i=index">
            <td class="text-center">{{ i + 1 }}</td>
            <td>{{ item.faultHeadName }}</td>
            <td>{{ item.faultName }}</td>
            <td>{{ item.codeNo }}</td>
            <td class="text-center">{{ item.priority }}</td>

            <td class="text-center">
              <span class="badge"
                [ngClass]="item.isActive ? 'bg-success' : 'bg-danger'">
                {{ item.isActive ? 'Active' : 'Inactive' }}
              </span>
            </td>

            <td class="text-center">
              <button class="btn btn-sm btn-info me-1" (click)="edit(item)">Edit</button>
              <button class="btn btn-sm btn-danger" (click)="delete(item)">Delete</button>
            </td>
          </tr>

          <tr *ngIf="dataList?.length === 0">
            <td colspan="7" class="text-center">No Records Found</td>
          </tr>

        </tbody>

      </table>
    </div>
  </div>

</div>
