<app-page-header [title]="'task-list'" [items]="['Apps', 'Tasks']" [active_item]="'task-list'"></app-page-header>

<!--ROW OPENED-->
<div class="row">
    <div class="col-md-12 col-xl-12">
        <div class="row">
            <div class="col-md-12 col-lg-6 col-xl-3">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-8">
                                <h4>Total Tasks</h4>
                                <p>35</p>
                            </div>
                            <div class="col-4">
                                <div class="hpx-50 wpx-50 bg-primary br-5 d-flex align-items-center justify-content-center ms-auto">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="text-white w-icn" enable-background="new 0 0 24 24" viewBox="0 0 24 24"><path d="M17,4h-1.1846313C15.4013672,2.8383179,14.3035889,2.0014648,13,2h-2C9.6964111,2.0014648,8.5986328,2.8383179,8.1846313,4H7C5.3438721,4.0018311,4.0018311,5.3438721,4,7v12c0.0018311,1.6561279,1.3438721,2.9981689,3,3h10c1.6561279-0.0018311,2.9981689-1.3438721,3-3V7C19.9981689,5.3438721,18.6561279,4.0018311,17,4z M9,5c0.0014038-1.1040039,0.8959961-1.9985962,2-2h2c1.1040039,0.0014038,1.9985962,0.8959961,2,2v2H9V5z M19,19c-0.0014038,1.1040039-0.8959961,1.9985962-2,2H7c-1.1040039-0.0014038-1.9985962-0.8959961-2-2V7c0.0014038-1.1040039,0.8959961-1.9985962,2-2h1v2.5006104C8.0001831,7.7765503,8.223999,8.0001831,8.5,8h7.0006104C15.7765503,7.9998169,16.0001831,7.776001,16,7.5V5h1c1.1040039,0.0014038,1.9985962,0.8959961,2,2V19z"/></svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12 col-lg-6 col-xl-3">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-8">
                                <h4>Completed Tasks</h4>
                                <p>15</p>
                            </div>
                            <div class="col-4">
                                <div class="hpx-50 wpx-50 br-5 d-flex align-items-center justify-content-center bg-secondary ms-auto">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="text-white w-icn" enable-background="new 0 0 24 24" viewBox="0 0 24 24"><path d="M17,4h-1.1846313C15.4013672,2.8383179,14.3035889,2.0014648,13,2h-2C9.6964111,2.0014648,8.5986328,2.8383179,8.1846313,4H7C5.3438721,4.0018311,4.0018311,5.3438721,4,7v12c0.0018311,1.6561279,1.3438721,2.9981689,3,3h10c1.6561279-0.0018311,2.9981689-1.3438721,3-3V7C19.9981689,5.3438721,18.6561279,4.0018311,17,4z M9,5c0.0014038-1.1040039,0.8959961-1.9985962,2-2h2c1.1040039,0.0014038,1.9985962,0.8959961,2,2v2H9V5z M19,19c-0.0014038,1.1040039-0.8959961,1.9985962-2,2H7c-1.1040039-0.0014038-1.9985962-0.8959961-2-2V7c0.0014038-1.1040039,0.8959961-1.9985962,2-2h1v2.5006104C8.0001831,7.7765503,8.223999,8.0001831,8.5,8h7.0006104C15.7765503,7.9998169,16.0001831,7.776001,16,7.5V5h1c1.1040039,0.0014038,1.9985962,0.8959961,2,2V19z"/></svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12 col-lg-6 col-xl-3">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-8">
                                <h4>In Progress</h4>
                                <p>4</p>
                            </div>
                            <div class="col-4">
                                <div class="hpx-50 wpx-50 br-5 d-flex align-items-center justify-content-center bg-info ms-auto">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="text-white w-icn" enable-background="new 0 0 24 24" viewBox="0 0 24 24"><path d="M17,4h-1.1846313C15.4013672,2.8383179,14.3035889,2.0014648,13,2h-2C9.6964111,2.0014648,8.5986328,2.8383179,8.1846313,4H7C5.3438721,4.0018311,4.0018311,5.3438721,4,7v12c0.0018311,1.6561279,1.3438721,2.9981689,3,3h10c1.6561279-0.0018311,2.9981689-1.3438721,3-3V7C19.9981689,5.3438721,18.6561279,4.0018311,17,4z M9,5c0.0014038-1.1040039,0.8959961-1.9985962,2-2h2c1.1040039,0.0014038,1.9985962,0.8959961,2,2v2H9V5z M19,19c-0.0014038,1.1040039-0.8959961,1.9985962-2,2H7c-1.1040039-0.0014038-1.9985962-0.8959961-2-2V7c0.0014038-1.1040039,0.8959961-1.9985962,2-2h1v2.5006104C8.0001831,7.7765503,8.223999,8.0001831,8.5,8h7.0006104C15.7765503,7.9998169,16.0001831,7.776001,16,7.5V5h1c1.1040039,0.0014038,1.9985962,0.8959961,2,2V19z"/></svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12 col-lg-6 col-xl-3">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-8">
                                <h4>On Hold</h4>
                                <p>6</p>
                            </div>
                            <div class="col-4">
                                <div class="hpx-50 wpx-50 br-5 d-flex align-items-center justify-content-center bg-warning ms-auto">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="text-white w-icn" enable-background="new 0 0 24 24" viewBox="0 0 24 24"><path d="M17,4h-1.1846313C15.4013672,2.8383179,14.3035889,2.0014648,13,2h-2C9.6964111,2.0014648,8.5986328,2.8383179,8.1846313,4H7C5.3438721,4.0018311,4.0018311,5.3438721,4,7v12c0.0018311,1.6561279,1.3438721,2.9981689,3,3h10c1.6561279-0.0018311,2.9981689-1.3438721,3-3V7C19.9981689,5.3438721,18.6561279,4.0018311,17,4z M9,5c0.0014038-1.1040039,0.8959961-1.9985962,2-2h2c1.1040039,0.0014038,1.9985962,0.8959961,2,2v2H9V5z M19,19c-0.0014038,1.1040039-0.8959961,1.9985962-2,2H7c-1.1040039-0.0014038-1.9985962-0.8959961-2-2V7c0.0014038-1.1040039,0.8959961-1.9985962,2-2h1v2.5006104C8.0001831,7.7765503,8.223999,8.0001831,8.5,8h7.0006104C15.7765503,7.9998169,16.0001831,7.776001,16,7.5V5h1c1.1040039,0.0014038,1.9985962,0.8959961,2,2V19z"/></svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-12 mb-3">
        <div class="btn-list">
            <a routerLink="/apps/task/create-task" class="btn btn-primary">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-inner-icn text-white" enable-background="new 0 0 24 24" viewBox="0 0 24 24"><path d="M16,11.5h-3.5V8c0-0.276123-0.223877-0.5-0.5-0.5S11.5,7.723877,11.5,8v3.5H8c-0.276123,0-0.5,0.223877-0.5,0.5s0.223877,0.5,0.5,0.5h3.5v3.5005493C11.5001831,16.2765503,11.723999,16.5001831,12,16.5h0.0006104C12.2765503,16.4998169,12.5001831,16.276001,12.5,16v-3.5H16c0.276123,0,0.5-0.223877,0.5-0.5S16.276123,11.5,16,11.5z M12,2C6.4771729,2,2,6.4771729,2,12s4.4771729,10,10,10c5.5202026-0.0062866,9.9937134-4.4797974,10-10C22,6.4771729,17.5228271,2,12,2z M12,21c-4.9705811,0-9-4.0294189-9-9s4.0294189-9,9-9c4.9682617,0.0056152,8.9943848,4.0317383,9,9C21,16.9705811,16.9705811,21,12,21z"/></svg>
                New Task
            </a>
            <a routerLink="/apps/task/edit-task" class="btn btn-info">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-inner-icn text-white" enable-background="new 0 0 24 24" viewBox="0 0 24 24"><path d="M21.5,21h-19C2.223877,21,2,21.223877,2,21.5S2.223877,22,2.5,22h19c0.276123,0,0.5-0.223877,0.5-0.5S21.776123,21,21.5,21z M4.5,18.0888672h5c0.1326294,0,0.2597656-0.0527344,0.3534546-0.1465454l10-10c0.000061,0,0.0001221-0.000061,0.0001831-0.0001221c0.1951294-0.1952515,0.1950684-0.5117188-0.0001831-0.7068481l-5-5c0-0.000061-0.000061-0.0001221-0.0001221-0.0001221c-0.1951904-0.1951904-0.5117188-0.1951294-0.7068481,0.0001221l-10,10C4.0526733,12.3291016,4,12.4562378,4,12.5888672v5c0,0.0001831,0,0.0003662,0,0.0005493C4.0001831,17.8654175,4.223999,18.0890503,4.5,18.0888672z M14.5,3.2958984l4.2930298,4.2929688l-2.121582,2.121582l-4.2926025-4.293396L14.5,3.2958984z M5,12.7958984l6.671814-6.671814l4.2926025,4.293396l-6.6713867,6.6713867H5V12.7958984z"/></svg>
                Edit Task
            </a>
        </div>
    </div>
    <div class="col-md-12">
        <div class="card">
            <div class="card-body tasks-table-container">
                <div class="table-responsive">
                    <div class="mb-3 row w-100">
                      <div class="col-xs-3 col-sm-auto">
                        <input id="table-complete-search" type="text" class="form-control" placeholder="search..."
                          name="searchTermTaskList" [(ngModel)]="service.searchTermTaskList">
                      </div>
                      <span class="col col-form-label" *ngIf="service.loading$ | async">Loading...</span>
                    </div>

                    <table id="members-table"
                      class="table text-nowrap mb-0 table-bordered border-top border-bottom project-tasks-main w-100">
                      <thead class="table-head">
                        <tr>
                          <th scope="col">SNO</th>
                          <th scope="col" sortable="task" (sort)="onSort($event)">Task</th>
                          <th scope="col">Project</th>
                          <th scope="col" sortable="dueDate" (sort)="onSort($event)">Due Date</th>
                          <th scope="col">AssignedTo</th>
                          <th scope="col">Status</th>
                          <th scope="col">Action</th>
                        </tr>
                      </thead>
                      <tbody class="table-body">
                        <tr *ngFor="let taskList of TaskList$ | async">
                          <th scope="row">{{ taskList.id }}</th>

                          <td class="text-muted fs-15 fw-semibold"><a href="javascript:void(0)" class="text-dark"
                              data-bs-target="#Vertically" data-bs-toggle="modal"><ngb-highlight [result]="taskList.task" [term]="service.searchTermTaskList">
                              </ngb-highlight></a></td>
                          <td class="text-muted fs-15 fw-semibold">
                            <ngb-highlight [result]="taskList.project">
                            </ngb-highlight>
                          </td>
                          <td class="text-danger fs-15 fw-semibold">
                            <ngb-highlight [result]="taskList.dueDate" [term]="service.searchTermTaskList">
                            </ngb-highlight>
                          </td>
                          <td>
                            <div class="d-flex align-items-center">
                              <div class="me-2">
                                <span class="data-image avatar avatar-md rounded-circle"
                                  style="background-image: url({{taskList.assignedImg}})"></span>
                              </div>
                              <div>
                                <h6 class="mb-0">
                                  <ngb-highlight [result]="taskList.name" [term]="service.searchTermTaskList">
                                  </ngb-highlight>
                                </h6>
                                <span class="text-muted fs-12">
                                  <ngb-highlight [result]="taskList.email " [term]="service.searchTermTaskList">
                                  </ngb-highlight>
                                </span>
                              </div>
                            </div>
                          </td>
                          <td>
                            <div class="form-group mb-0">
                              <ul>
                                <li class="select-status">
                                  <ng-select placeholder="Select Status">
                                    <ng-option value="{{options.option}}" *ngFor="let options of taskList.status">
                                      {{options.option}}</ng-option>
                                  </ng-select>
                                </li>
                              </ul>
                            </div>
                          </td>
                          <td>
                            <div class="d-flex align-items-stretch" ngbDropdown>
                              <a class="btn btn-sm btn-outline-primary border me-2"
                                ngbTooltip="Mark As Completed">
                                <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24"
                                  height="20" width="16" viewBox="0 0 24 24">
                                  <path
                                    d="M15.8085327,8.6464844l-5.6464233,5.6464844l-2.4707031-2.4697266c-0.0023804-0.0023804-0.0047607-0.0047607-0.0072021-0.0071411c-0.1972046-0.1932373-0.5137329-0.1900635-0.7069702,0.0071411c-0.1932983,0.1972656-0.1900635,0.5137939,0.0071411,0.7070312l2.8242188,2.8232422C9.9022217,15.4474487,10.02948,15.5001831,10.1621094,15.5c0.1326294,0.0001221,0.2598267-0.0525513,0.3534546-0.1464844l6-6c0.0023804-0.0023804,0.0047607-0.0046997,0.0071411-0.0071411c0.1932373-0.1972046,0.1900635-0.5137329-0.0071411-0.7069702C16.3183594,8.446106,16.0018311,8.4493408,15.8085327,8.6464844z M12,2C6.4771729,2,2,6.4771729,2,12s4.4771729,10,10,10c5.5201416-0.0064697,9.9935303-4.4798584,10-10C22,6.4771729,17.5228271,2,12,2z M12,21c-4.9705811,0-9-4.0294189-9-9s4.0294189-9,9-9c4.9683228,0.0054321,8.9945679,4.0316772,9,9C21,16.9705811,16.9705811,21,12,21z" />
                                </svg>
                              </a>
                              <a class="btn btn-sm btn-outline-secondary border me-2" ngbTooltip="Delete">
                                <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 24 24"
                                  width="16">
                                  <path d="M0 0h24v24H0V0z" fill="none" />
                                  <path
                                    d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z" />
                                </svg>
                              </a>
                              <a href="javascript:void(0)" class="border br-5 px-2 py-1 text-muted no-caret align-items-center d-flex"
                                ngbDropdownToggle aria-haspopup="true" aria-expanded="false"><i
                                  class="fe fe-more-vertical"></i></a>
                              <div ngbDropdownMenu class="dropdown-menu-start">
                                <a ngbDropdownItem href="javascript:void(0)"><i class="fe fe-edit-2 me-2"></i>
                                  Edit</a>
                                <a ngbDropdownItem href="javascript:void(0)"><i class="fe fe-info me-2"></i>
                                  Info</a>
                              </div>
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="d-flex justify-content-between p-2">
                    <ngb-pagination [collectionSize]="(totalTaskList$ | async)!" [(page)]="service.pageTaskList"
                      [pageSize]="service.pageSizeTaskList">
                    </ngb-pagination>

                    <ng-select name="pageSizeTaskList" [(ngModel)]="service.pageSizeTaskList">
                      <ng-option value="5">5 items per page</ng-option>
                      <ng-option value="10">10 items per page</ng-option>
                      <ng-option value="25">25 items per page</ng-option>
                      <ng-option value="50">50 items per page</ng-option>
                    </ng-select>
                  </div>
            </div>
        </div>
    </div>
</div>
<!--ROW CLOSED-->